(this["webpackJsonpsimple-react"]=this["webpackJsonpsimple-react"]||[]).push([[0],{20:function(e,t,a){},24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(6),l=a(8),s=a(7),o=a(0),c=a.n(o),u=a(21),i=a.n(u),d=a(12),h=a(1),m=(a(29),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"RESTy"),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(d.b,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(d.c,{to:"/history"},"history")))))}}]),a}(c.a.Component)),p=a(10),f=a.n(p),g=a(14),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},b=function(e){return c.a.Children.map(e.children,(function(t){return c.a.cloneElement(t,{condition:e.condition})}))},E=function(e){return v(e.condition,e.children)},y=function(e){return v(!e.condition,e.children)},O=(a(20),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,l,s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.props.toggleLoading(),e.prev=2,a="",n="",t.target.reset(),e.t0=r.state.method,e.next="get"===e.t0?9:"post"===e.t0||"put"===e.t0?13:"delete"===e.t0?17:21;break;case 9:return console.log("get"),e.next=12,r.getHandler(t);case 12:return e.abrupt("break",23);case 13:return console.log("post"),e.next=16,r.putPost(t);case 16:return e.abrupt("break",23);case 17:return console.log("delete"),e.next=20,r.deleteHandler(t);case 20:return e.abrupt("break",23);case 21:return e.next=23,r.getHandler(t);case 23:null===(l=JSON.parse(localStorage.getItem("history")))?(s=[],o={method:r.state.method,url:r.state.url},s.push(o),localStorage.setItem("history",JSON.stringify(s))):(c={method:r.state.method,url:r.state.url},l.push(c),localStorage.setItem("history",JSON.stringify(l))),r.props.toggleLoading(),r.setState({url:a,method:n}),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(2),console.log(e.t1);case 32:case"end":return e.stop()}}),e,null,[[2,29]])})));return function(t){return e.apply(this,arguments)}}(),r.getHandler=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,l,s,o,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.url||!r.state.method){e.next=18;break}return a=r.state.url,n=r.state.method,e.next=5,fetch(a);case 5:return l=e.sent,e.next=8,l.json();case 8:return s=e.sent,l.headers.forEach((function(e){o={"Content-Type":e}})),c={Headers:o,Response:s},u={url:r.state.url,method:r.state.method},e.next=14,r.setState({results:c,url:a,method:n,request:u});case 14:return e.next=16,r.props.update(c);case 16:e.next=19;break;case 18:alert("missing information");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleChangeBody=function(e){var t=e.target.value;r.setState({body:t})},r.handleChangeURL=function(e){var t=e.target.value;r.setState({url:t})},r.activation=function(){switch(r.state.method){case"get":r.setState({active:!1});break;case"post":case"put":r.setState({active:!0});break;case"delete":r.setState({active:!1})}},r.handleChangeMethod=function(e){var t=e.target.id;r.setState({method:t}),r.activation()},r.putPost=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,l,s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.state.url,n=r.state.method,l={url:r.state.url,method:r.state.method},e.prev=3,s={method:r.state.method,body:JSON.stringify(r.state.body),headers:{"Content-Type":"application/json"}},e.next=7,fetch(r.state.url,s);case 7:return o=e.sent,e.next=10,o.json();case 10:return c=e.sent,e.next=13,r.setState({url:a,method:n,request:l});case 13:r.props.update(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),r.deleteHandler=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:r.state.method,headers:{"Content-Type":"application/json"}},e.next=4,fetch(r.state.url,a);case 4:return n=e.sent,e.next=7,n.json();case 7:l=e.sent,r.props.update(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),r.state={url:"",method:"get",request:{},results:[],history:[],active:!1,body:""},r}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("section",null,c.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},c.a.createElement("label",null,c.a.createElement("span",null,"URL: "),c.a.createElement("input",{name:"url",id:"url",type:"text",onChange:this.handleChangeURL}),c.a.createElement("button",{id:"goButton",type:"submit"},"GO!")),c.a.createElement("label",{className:"methods"},c.a.createElement("span",{className:"get"===this.state.method?"active":"",id:"get",onClick:this.handleChangeMethod},"GET"),c.a.createElement("span",{className:"post"===this.state.method?"active":"",id:"post",onClick:this.handleChangeMethod},"POST"),c.a.createElement("span",{className:"put"===this.state.method?"active":"",id:"put",onClick:this.handleChangeMethod},"PUT"),c.a.createElement("span",{className:"delete"===this.state.method?"active":"",id:"delete",onClick:this.handleChangeMethod},"DELETE"))),c.a.createElement(b,{condition:this.state.active},c.a.createElement(E,null,c.a.createElement("div",{id:"body"},c.a.createElement("textarea",{placeholder:"Raw JSON Body",defaultValue:this.state.body,name:"requestBody",spellCheck:"false",onChange:this.handleChangeBody}))),c.a.createElement(y,null,c.a.createElement("div",{id:"body"},c.a.createElement("textarea",{placeholder:"Raw JSON Body",defaultValue:this.state.body,name:"requestBody",spellCheck:"false",disabled:!0})))),c.a.createElement("section",{className:"results"},c.a.createElement("span",{className:"method"},this.state.method),c.a.createElement("span",{className:"url"},this.state.url)))}}]),a}(c.a.Component)),k=a(23),j=a.n(k);var x=function(e){return e.response.Headers?c.a.createElement("div",{className:"loading-".concat(e.loading)},c.a.createElement("div",{className:"container"},c.a.createElement("section",null,c.a.createElement(j.a,{src:e.response})))):c.a.createElement("section",null)},S=(a(36),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).key=0,r.state={history:[],key:1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));console.log(e),this.setState({history:e})}},{key:"render",value:function(){var e=this;return c.a.createElement("ul",null,this.state.history.map((function(t){return console.log("quuuuuuery",t),e.key=e.key+1,c.a.createElement("li",{key:e.key},c.a.createElement("section",null,t.method,c.a.createElement("br",null)," ",t.url))})))}}]),a}(c.a.Component)),C=(a(37),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("footer",null,"\xa9 2020 Reham Omar ^_^")}}]),a}(c.a.Component)),N=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleUpdate=function(e){var t=e.Headers,a=e.Response;r.setState({Headers:{header:t},Response:{response:a}})},r.toggleLoading=function(){r.setState({loading:!r.state.loading})},r.state={loading:!1},r}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m,null),c.a.createElement(h.a,{exact:!0,path:"/"},c.a.createElement("main",null,c.a.createElement(O,{update:this.handleUpdate,toggleLoading:this.toggleLoading}),c.a.createElement(x,{loading:this.state.loading,response:this.state}))),c.a.createElement(h.a,{exact:!0,path:"/history"},c.a.createElement("main",null,c.a.createElement(S,null))),c.a.createElement(C,null))}}]),a}(c.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(d.a,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)))}}]),a}(c.a.Component),H=document.getElementById("root");i.a.render(c.a.createElement(w,null),H)}},[[24,1,2]]]);
//# sourceMappingURL=main.59a5c4ee.chunk.js.map